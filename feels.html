<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>lua-feels v0</title>
    <link href="feels.css" rel="stylesheet">
    <script src="js/vendor/p5.min.js"></script>
    <!--<script src="js/vendor/p5.sound.min.js"></script>-->
    <script src="js/vendor/Tone.js"></script>
  </head>
  <body>
    <div id="p5"></div>
    <div id="sidebar">
      <div id="repl">
        <div id="output">
          <div class="line title">lua-feels v0</div>
        </div>

        <form id="repl-form">
          <span class="prompt">&gt;&gt;&nbsp;</span>
          <input type="text" id="repl-input" autocomplete="off" autofocus />
        </form>
      </div>
      <div id="settings">
        <div id="speed">
          <input type="range" id="speed-input" min="1" max="21" value="10" autocomplete="off" />
          <label for="speed-input">⏱️ VM speed: <strong><span id="current-speed">10</span>Hz</strong></label>
        </div>
        <div id="examples">
          <br>
          <strong>Examples:</strong>
          <button class="example" data-code="for i = 1,10 do print(i) end">loop</button>
          <button class="example" data-code="function fac(n) if n <= 1 then return 1 else return n * fac(n-1) end end">factorial</button>
          <button class="example" data-code="function fib(n) if n <= 1 then return 1 else return fib(n-1) + fib(n-2) end end">fibonacci</button>
          <button class="example" data-code="function countdown(n) if n == 0 then print('BLASTOFF!') else print(n .. '...') return countdown(n-1) end end">countdown</button>
          <button class="example" data-code="for i = 1,100 do if i % 15 == 0 then print('FIZZBUZZ') elseif i % 5 == 0 then print('BUZZ') elseif i % 3 == 0 then print('FIZZ') else print(i) end end">fizzbuzz</button>
          <button class="example" data-code="function quicksort(t) if #t<2 then return t end local pivot=t[1] local a,b,c={},{},{} for _,v in ipairs(t) do if v<pivot then a[#a+1]=v elseif v>pivot then c[#c+1]=v else b[#b+1]=v end end a=quicksort(a) c=quicksort(c) for _,v in ipairs(b) do a[#a+1]=v end for _,v in ipairs(c) do a[#a+1]=v end return a end">qsort</button>
        </div>
        <div id="music-settings">
          <br>
          <strong>🎵 Settings 🎵</strong><br>
          <input type="range" id="recursion-go-up" min="0" max="12" value="0" autocomplete="off" /> ⏫ Recursion go up: <strong><span id="recursion-go-up-value">Off</span></strong>
          <br>
          <input type="range" id="volume" min="1" max="11" value="5" autocomplete="off" /> 🔊 Volume: <strong><span id="volume-value">5</span></strong>
          <br>
          <label><input type="checkbox" id="loop-drum" autocomplete="off" checked> 🥁 Drumbeat when looping</label><br>
          <label><input type="checkbox" id="call-drum" autocomplete="off" checked> 🥁 Drumbeat on function call</label><br>
          <label><input type="checkbox" id="piano" autocomplete="off"> 🎹 Piano</label>
        </div>
        <div id="links">
          <br>
          <a href="https://paileyq.github.io/lua-feels/feels-live.html">Switch to livecoding edition</a> &middot;
          <a href="https://github.com/paileyq/lua-feels">GitHub</a>
        </div>
      </div>
      </div>
    </div>

    <script src="js/lua.js"></script>
    <script src="js/noisy-particles.js"></script>

    <script src="lua/main.js"></script>
  </body>
</html>
